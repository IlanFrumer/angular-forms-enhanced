!function(a){"use strict";var b=a.module("ngFormsEnhanced",[]),c="ng-pristine",d="ng-dirty",e=a.noop,f={$addControl:e,$removeControl:e,$setValidity:e,$setDirty:e,$setPristine:e,$updatePristine:e},g=function(a,c){b.directive(a,function(){return{restrict:c,require:"form",compile:function(){return{pre:function(a,b,c,d){var e=b.parent().controller("form")||f,g=d.$addControl,h=d.$removeControl;d.$controls=[],d.$addControl=function(a){d.$controls.push(a),g(a)},d.$removeControl=function(a){var b=d.$controls.indexOf(a);b>=0&&d.$controls.splice(b,1),h(a)},d.$revert=function(){for(var a=0;a<d.$controls.length;a+=1)d.$controls[a].$dirty&&d.$controls[a].$revert();d.$setPristine(),d.$updatePristine()},d.$updatePristine=function(){for(var a=0;a<d.$controls.length;a+=1)if(d.$controls[a].$dirty)return;d.$setPristine(),e&&e.$updatePristine()}}}}}})};g("form","E"),g("ngForm","EAC"),b.directive("ngModel",["$parse","$exceptionHandler",function(b,e){return{require:["ngModel","^?form"],compile:function(g,h){var i=b(h.ngModel),j=i.assign;return{pre:function(b,g,h,i){var k=i[0],l=i[1]||f,m=function(){var b=null,c=!0;return{get:function(){return b},set:function(a){return k.$pristine&&(b=k.$modelValue,c=k.$isEmpty(b)),a},equals:function(d){return k.$invalid?!1:c?k.$isEmpty(d):a.equals(b,d)}}}();k.$formatters.unshift(m.set),k.$updatePristine=function(){l.$updatePristine()},k.$revert=function(){j(b,m.get())};var n=k.$setPristine;k.$setPristine=function(){n.call(k),m.set()},k.$setViewValue=function(f){k.$viewValue=f,a.forEach(k.$parsers,function(a){f=a(f)}),k.$modelValue!==f&&(k.$modelValue=f,k.$dirty?m.equals(f)&&(k.$setPristine(),k.$updatePristine()):m.equals(f)||(k.$dirty=!0,k.$pristine=!1,g.removeClass(c).addClass(d),l.$setDirty()),j(b,f),a.forEach(k.$viewChangeListeners,function(a){try{a()}catch(b){e(b)}}))}}}}}}])}(angular);