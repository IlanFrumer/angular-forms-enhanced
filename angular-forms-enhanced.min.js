!function(a){"use strict";var b=a.module("ngFormsEnhanced",[]),c="ng-pristine",d="ng-dirty",e=a.noop,f=a.isUndefined,g={$addControl:e,$removeControl:e,$setValidity:e,$setDirty:e,$setPristine:e,$updatePristine:e},h=function(a,c){b.directive(a,function(){return{restrict:c,require:"form",compile:function(){return{pre:function(a,b,c,d){var e=b.parent().controller("form")||g,f=d.$addControl,h=d.$removeControl;d.$controls=[],d.$addControl=function(a){d.$controls.push(a),f(a)},d.$removeControl=function(a){var b=d.$controls.indexOf(a);b>=0&&d.$controls.splice(b,1),h(a)},d.$revert=function(){for(var a=0;a<d.$controls.length;a+=1)d.$controls[a].$dirty&&d.$controls[a].$revert();d.$setPristine(),d.$updatePristine()},d.$updatePristine=function(){for(var a=0;a<d.$controls.length;a+=1)if(d.$controls[a].$dirty)return;d.$setPristine(),e&&e.$updatePristine()}}}}}})};h("form","E"),h("ngForm","EAC"),b.directive("ngModel",["$parse","$exceptionHandler",function(b,e){return{require:["ngModel","^?form"],compile:function(h,i){var j=b(i.ngModel),k=j.assign;return{pre:function(b,h,i,j){var l=j[0],m=j[1]||g;l.$updatePristine=function(){m.$updatePristine()},l.$revert=function(){k(b,l.$pristineValue)};var n=l.$setPristine;l.$setPristine=function(){n.call(l),l.$pristineValue=l.$modelValue},l.$setViewValue=function(f){l.$viewValue=f,a.forEach(l.$parsers,function(a){f=a(f)}),l.$modelValue!==f&&(l.$modelValue=f,l.$dirty?l.$pristineValue===f&&(l.$setPristine(),l.$updatePristine()):l.$pristineValue!==f&&(l.$dirty=!0,l.$pristine=!1,h.removeClass(c).addClass(d),m.$setDirty()),k(b,f),a.forEach(l.$viewChangeListeners,function(a){try{a()}catch(b){e(b)}}))},l.$formatters.push(function(a){return l.$pristineValue=f(l.$modelValue)?"":l.$modelValue,a})}}}}}])}(angular);